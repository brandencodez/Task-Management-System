<div class="login-container">
  <button class="home-btn" (click)="goHome()">‚Üê Home</button>

  <h2>Employee Login</h2>

  @if (showPasswordSetup) {
    <p>Set your password for future logins:</p>
    <form (ngSubmit)="setPassword()" #setupForm="ngForm">
      <input
        type="password"
        [(ngModel)]="newPassword"
        name="newPassword"
        placeholder="Create password"
        required
        minlength="6"
      />
      <input
        type="password"
        [(ngModel)]="confirmPassword"
        name="confirmPassword"
        placeholder="Confirm password"
        required
      />
      @if (passwordError) {
        <div class="error">{{ passwordError }}</div>
      }
      <button type="submit">Save Password</button>
    </form>
  } @else {
    <form (ngSubmit)="login()" #loginForm="ngForm">
      <input
        type="text"
        [(ngModel)]="username"
        name="username"
        placeholder="Employee Name"
        required
      />
      <input
        type="password"
        [(ngModel)]="password"
        name="password"
        placeholder="Password"
        required
      />
      @if (errorMessage) {
        <div class="error">{{ errorMessage }}</div>
      }
      <button type="submit">Login</button>
    </form>
    <p class="note">First time? Enter your name and click "Login" to set password.</p>
  }
</div>